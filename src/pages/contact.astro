---
import ContentPage from '@/components/ContentPage.astro';

const subject = Astro.url.searchParams.get('subject');
const rating = Astro.url.searchParams.get('rating');
const isReview = subject?.toLowerCase() === 'review';
const ratingNum = rating ? parseInt(rating, 10) : null;
const validRating = ratingNum !== null && ratingNum >= 1 && ratingNum <= 5;
---

<ContentPage path="/contact" title="Contact" description="Feedback or questions about our word tools? Get in touch. We read every message and use it to improve the site.">
  {isReview && (
    <div class="rounded-lg border border-primary/30 bg-primary/5 p-4 text-foreground mb-6">
      <p class="font-semibold">Leave a review</p>
      <p class="mt-1 text-sm text-muted-foreground">Tell us what you think of Word Unscrambler. Your feedback helps us improve.</p>
      {validRating && (
        <p class="mt-2 text-sm">Your rating: <strong>{ratingNum} / 5</strong> â˜…</p>
      )}
    </div>
  )}
  <p>For feedback or questions about our word tools, please reach out via your preferred channel. We're happy to hear from you.</p>
</ContentPage>
